<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
	<head><link href="cache.css" rel="stylesheet" type="text/css"/><title>Format of the eix cache file version 9.</title></head>

	<body>
		<h2>Eix cache file format (Version 9)</h2>

		<div class="section"><h3>Special datatypes</h3>
			<p>Datatypes that are especially defined for eix and that are used more
				than once.</p>

			<div class="block" id="list"><h3>list</h3>
				<p>A list stores maximal <strong>(8 * sizeof(unsigned short))^2 - 1</strong>
					elements of one type. Strings
					are, for example, lists of characters.</p>
				<ol class="format">
					<li class="field"><span class="name">lenght</span>
			(<span class="type"><a href="#unsigned short">unsigned short</a></span>)
			</li>
					<li class="field"><span class="name">whatever it's, that should be stored</span>
			(<span class="type"><a href="#*">*</a></span>)
			</li>
				</ol>
			</div>
		</div>

		<div class="section"><h3>Overall Layout</h3>
			<p>The index file consists of a header, followed by categories. Byte-order depends one the system.</p>

			<div class="block" id="Header"><h3>Header</h3>
				<p>This header holds information about the cache.</p>
				<ol class="format">
					<li class="field"><span class="name">version</span>
			(<span class="type"><a href="#unsigned int">unsigned int</a></span>)
			</li>
					<li class="field"><span class="name">architecture</span>
			(<span class="type"><a href="#char[16]">char[16]</a></span>)
			</li>
					<li class="field"><span class="name">number of categories</span>
			(<span class="type"><a href="#unsigned int">unsigned int</a></span>)
			</li>
					<li class="field"><span class="name">number of packages</span>
			(<span class="type"><a href="#unsigned int">unsigned int</a></span>)
			</li>
					<li class="field"><span class="name">directories (overlays + PORTDIR)</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			&gt; 
			</span>)
			</li>
				</ol>
			</div>

			<div class="block" id="Category"><h3>Category</h3>
				<p>The category-frames contain the name of category, followed by a
					list of packages.</p>

				<ol class="format">
					<li class="field"><span class="name">name of category</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
					<li class="field"><span class="name">packages in this category</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#Package">Package</a>&gt; 
			</span>)
			</li>
				</ol>

				<div class="block" id="Package"><h3>Package</h3>
					<ol class="format">
						<li class="field"><span class="name">offset to the next package</span>
			(<span class="type"><a href="#long">long</a></span>)
			</li>
						<li class="field"><span class="name">name</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
						<li class="field"><span class="name">description</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
						<li class="field"><span class="name">homepage</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
						<li class="field"><span class="name">licenses</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
						<li class="field"><span class="name">list of versions</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#Version">Version</a>&gt; 
			</span>)
			</li>
					</ol>

					<div class="block" id="Version"><h3>Version</h3>
						<p>For versions, the following data is stored.</p>
						<ol class="format">
							<li class="field"><span class="name">full version</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
							<li class="field"><span class="name">stability bitmask</span>
			(<span class="type"><a href="#char">char</a></span>)
			
								<ul class="bitmask">
									<li>0x00 - undefined (should not occur)</li>
									<li>0x01 - stable   (ARCH)</li>
									<li>0x02 - unstable (~ARCH)</li>
									<li>0x04 - -* before (-/~)ARCH</li>
									<li>0x08 - -ARCH</li>
									<li>0x10 - ARCH is not mentioned and no -* is present</li>
									<li>0x20 - masked by package.mask</li>
									<li>0x40 - masked by profile</li>
									<li>0x80 - version of package is a           system-package</li>
								</ul>
							</li>
							<li class="field"><span class="name">primary part of the         version (primary part of 1.2.3_alpha5-r3 is         1.2.3)</span>
			(<span class="type"><a href="#list">list</a>&lt;<a href="#char">char</a>&gt; 
			</span>)
			</li>
							<li class="field"><span class="name">type of suffix</span>
			(<span class="type"><a href="#int">int</a></span>)
			
								<ul class="enumeration">
									<li class="enum">0 - _alpha</li>
									<li class="enum">1 - _beta</li>
									<li class="enum">2 - _pre</li>
									<li class="enum">3 - _rc</li>
									<li class="enum">4 - no suffix</li>
									<li class="enum">5 - _p</li>
								</ul>
							</li>
							<li class="field"><span class="name">version of suffix (for _alpha5         it's 5)</span>
			(<span class="type"><a href="#int">int</a></span>)
			</li>
							<li class="field"><span class="name">gentoos revision (for 0.1-r2         it's 2)</span>
			(<span class="type"><a href="#char">char</a></span>)
			</li>
							<li class="field"><span class="name">index for         directory-list in cache-header</span>
			(<span class="type"><a href="#unsigned short int">unsigned short int</a></span>)
			</li>
						</ol>
					</div>
				</div>
			</div>
		</div>

		<hr/><div id="foot"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML 1.1</a> - 
			<a href="http://jigsaw.w3.org/css-validator/check/referer">Valid CSS!</a><br/>Copyright 2005 <span style="white-space: nowrap;">Emil Beinroth &lt;emilbeinroth@gmx.net&gt;</span> and
			<span style="white-space: nowrap;">Wolfgang Frisch &lt;xororand@users.sourceforge.net&gt;.</span> This
			document was released under the GNU FDL.</div>
	</body>
</html>
